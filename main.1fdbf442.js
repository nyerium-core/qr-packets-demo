!function(s){function t(t){for(var e,n,r=t[0],i=t[1],o=t[2],u=0,a=[];u<r.length;u++)n=r[u],l[n]&&a.push(l[n][0]),l[n]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(s[e]=i[e]);for(d&&d(t);a.length;)a.shift()();return f.push.apply(f,o||[]),c()}function c(){for(var t,e=0;e<f.length;e++){for(var n=f[e],r=!0,i=1;i<n.length;i++){var o=n[i];0!==l[o]&&(r=!1)}r&&(f.splice(e--,1),t=u(u.s=n[0]))}return t}var n={},l={0:0},f=[];function u(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,u),e.l=!0,e.exports}u.m=s,u.c=n,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var e=window.webpackJsonp=window.webpackJsonp||[],r=e.push.bind(e);e.push=t,e=e.slice();for(var i=0;i<e.length;i++)t(e[i]);var d=r;f.push([170,1]),c()}({100:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[t._v(t._s(t.intro))]),t._v(" "),n("Qr",{attrs:{qrs:t.qrs}}),t._v(" "),n("QrReader",{ref:"reader",attrs:{width:100,height:100},on:{qr:t.onQr}})],1)},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},101:function(t,e,n){"use strict";var r=function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"qr-image",attrs:{src:this.dataUrl,alt:""}})},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},102:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("video",{ref:"video",staticStyle:{display:"none"},attrs:{width:t.width,height:t.height}},[t._v("Camera not available")]),t._v(" "),n("canvas",{ref:"canvas",staticStyle:{display:"none"}})])},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},104:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},u=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(n){function t(t){var e=n.call(this)||this;return e.name=t,e.rpc=new RTCPeerConnection,e.candidates=[],e.connected=!1,e.tag="",e.onIceCandidate=function(t){console.log(e.tag+"onIceCandidate: "+JSON.stringify(t.candidate)),t.candidate&&e.candidates.push(t.candidate),e.emit("ice",t.candidate)},e.onDataChannel=function(t){console.log(e.tag+"onDataChannel: "+JSON.stringify(t.channel)),e.setChannel(t.channel)},e.onDataChannelOpen=function(t){console.log(e.tag+"onDataChannelOpen: "+t.type),e.connected=!0,e.emit("connected")},e.onMessage=function(t){console.log(""+e.tag+t.type+": "+t.data)},t&&(e.tag="["+t+"] "),e.rpc.onicecandidate=e.onIceCandidate,e.rpc.ondatachannel=e.onDataChannel,e}return i(t,n),t.prototype.setChannel=function(t){this.dataChannel=t,this.dataChannel.onopen=this.onDataChannelOpen,this.dataChannel.onmessage=this.onMessage},t.prototype.waitConnection=function(){return o(this,void 0,Promise,function(){var n=this;return u(this,function(t){return this.connected?[2,Promise.resolve()]:[2,new Promise(function(t,e){return n.on("connected",function(){return t()})})]})})},t.prototype.createOffer=function(){return o(this,void 0,Promise,function(){var e;return u(this,function(t){switch(t.label){case 0:return console.log(this.tag+"createOffer"),this.setChannel(this.rpc.createDataChannel("chat")),[4,(e=this).rpc.createOffer()];case 1:return e.offer=t.sent(),[4,this.rpc.setLocalDescription(this.offer)];case 2:return t.sent(),[2,this.offer]}})})},t.prototype.pushOffer=function(n){return o(this,void 0,Promise,function(){var e;return u(this,function(t){switch(t.label){case 0:if(console.log(this.tag+"pushOffer: "+JSON.stringify(n)),this.offer)throw"can't push offer to already inited rtc connection!";return[4,this.rpc.setRemoteDescription(n)];case 1:return t.sent(),[4,this.rpc.createAnswer()];case 2:return e=t.sent(),[4,this.rpc.setLocalDescription(e)];case 3:return t.sent(),[2,e]}})})},t.prototype.pushAnswer=function(e){return o(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return console.log(this.tag+"pushAnswer: "+JSON.stringify(e)),[4,this.rpc.setRemoteDescription(e)];case 1:return t.sent(),[2]}})})},t.prototype.pushIceCandidate=function(e){return o(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.rpc.addIceCandidate(e)];case 1:return t.sent(),[2]}})})},t}(n(34).EventEmitter);e.RTCHelper=a},105:function(t,e,n){"use strict";n.r(e);var r=n(98),i=n(51);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="RemoteCall.vue",e.default=a.exports},106:function(t,e,n){"use strict";n.r(e);var r=n(99),i=n(55);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="QrGif.vue",e.default=a.exports},111:function(t,e,n){"use strict";function r(t,r){return t.reduce(function(t,e,n){return t[r[n]]=e,t},{})}function i(e,t){return t.map(function(t){return e[t]})}Object.defineProperty(e,"__esModule",{value:!0}),e.parseHostMessage=function(t){if(t){if(t.startsWith("{"))return JSON.parse(t);if(/^.*|.*|.*$/.test(t)){var e=t.split("|",3).map(function(t){return t||""}),n=e[0],r=e[1],i=e[2],o=n.length+r.length+i.length+2;t.length>o&&(i+=t.substr(o));var u=r.match(/^\d+/)?parseInt(r):r,a=JSON.parse(i||"[]");return n?{method:n,id:u,params:a}:{id:u,result:a}}}},e.arrayToObj=r,e.objToArray=i,e.allToObj=function(t,e){return Array.isArray(t.params)?r(t.params,e):t.params},e.allToArray=function(t,e){return Array.isArray(t.params)?t.params:i(t.params,e)}},112:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(104),u=n(113),a=n(205);function s(){var e=new o.RTCHelper,n=new u.JsonRpc(function(t){return e.dataChannel.send(t)},function(t,e){console.log("ignored remote signer request:",t),e(void 0,null)});e.onMessage=function(t){return console.log(t),n.onMessage(t.data.toString())};return{rtc:e,jrpc:n,connected:!1}}e.checkConnection=function(){return r(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:if(!e.singleton.connected)return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,a.timedPromise(e.singleton.jrpc.ping(),5e3)];case 2:return t.sent(),[2,!0];case 3:return t.sent(),[2,!1];case 4:return[2]}})})},e.singleton=s(),e.reset=function(){e.singleton=s()}},113:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},u=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};function a(t,e,n,r){return void 0===r&&(r=!1),r?t+"|"+e+"|"+JSON.stringify(n):s({method:t,id:e,params:n})}function i(t){return Object.assign({},t,{jsonrpc:"2.0"})}function s(t){return JSON.stringify(i(t))}Object.defineProperty(e,"__esModule",{value:!0}),e.notify=function(t,e,n){return void 0===n&&(n=!1),n?t+"||"+JSON.stringify(e):s({method:t,params:e})},e.error=function(t,e){return s({id:t,error:e})},e.result=function(t,e,n){return void 0===n&&(n=!1),n?"|"+t+"|"+JSON.stringify(e):s({id:t,result:e})},e.call=a,e.jrpc=i,e.jrpcs=s;var c=function(){function t(t,e){var i=this;this.lastOutgoingMsgId=1,this.listeners={},this.onMessage=function(t){var e=JSON.parse(t),n=e.id;if(e.method)i.onRequest(e,function(t,e){return i.send(JSON.stringify(o({id:n,jsonrpc:"2.0"},t?{error:t}:{result:e})))});else if(i.listeners[n]){var r=i.listeners[n];delete i.listeners[n],r(e.error,e.result)}},this.send=t,this.onRequest=e}return t.prototype.ping=function(){return r(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.call("ping")];case 1:if("pong"!=t.sent())throw"JSON-RPC: unknown ping error!";return[2]}})})},t.prototype.callRaw=function(i,o){return r(this,void 0,Promise,function(){var e=this;return u(this,function(t){return console.log("JSON.RAW: "+i+"("+JSON.stringify(o)+")"),[2,new Promise(function(n,r){var t=e.getNextMsgId();e.listeners[t]=function(t,e){return t?r(t):n(e)},console.log("outgoing: "+a(i,t,o)),e.send(a(i,t,o))})]})})},t.prototype.call=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return r(this,void 0,Promise,function(){return u(this,function(t){return[2,this.callRaw(e,n)]})})},t.prototype.getNextMsgId=function(){return this.lastOutgoingMsgId++},t}();e.JsonRpc=c},114:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(209),u=new o;u.setProvider(new o.providers.WebsocketProvider("wss://rinkeby.infura.io/ws")),e.getNonce=function(e){return r(this,void 0,Promise,function(){return i(this,function(t){switch(t.label){case 0:return[4,u.eth.getTransactionCount(e)];case 1:return[2,t.sent()]}})})},e.sendTx=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,u.eth.sendSignedTransaction(e,function(t,e){if(console.log("transactionHash: ",e),t)throw t;return e})];case 1:return[2,t.sent()]}})})}},170:function(t,e,n){t.exports=n(171)},171:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),o=r(n(173));window.vm=new i.default({el:"#app",render:function(t){return t(o.default)}})},173:function(t,e,n){"use strict";n.r(e);var r=n(90),i=n(45);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n(382);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="App.vue",e.default=a.exports},175:function(t,e,n){"use strict";n.r(e);var r=n(91),i=n(47);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="Index.vue",e.default=a.exports},176:function(t,e,n){"use strict";n.r(e);var r=n(92),i=n(49);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="Login.vue",e.default=a.exports},177:function(t,e,n){"use strict";n.r(e);var r=n(100),i=n(53);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="QrExchange.vue",e.default=a.exports},178:function(t,e,n){"use strict";n.r(e);var r=n(101),i=n(57);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n(201);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="QrImage.vue",e.default=a.exports},201:function(t,e,n){"use strict";var r=n(59);n.n(r).a},202:function(t,e,n){"use strict";n.r(e);var r=n(102),i=n(60);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="QrReader.vue",e.default=a.exports},204:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isResult=function(t){return"result"in t},e.isMethodCall=function(t){return"method"in t},e.isError=function(t){return"error"in t}},205:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},s=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.timedPromise=function(u,a){var t=this;return new Promise(function(i,o){return r(t,void 0,void 0,function(){var e,n,r;return s(this,function(t){switch(t.label){case 0:return e=!1,n=setTimeout(function(){return e||(e=!0,o(new Error("promise timed out")))},a),[4,u];case 1:return r=t.sent(),e||(e=!0,clearTimeout(n),i(r)),[2]}})})})}},206:function(t,e,n){"use strict";n.r(e);var r=n(93),i=n(62);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="Wallets.vue",e.default=a.exports},207:function(t,e,n){"use strict";n.r(e);var r=n(94),i=n(64);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="Wallet.vue",e.default=a.exports},208:function(t,e,n){"use strict";n.r(e);var r=n(95),i=n(66);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="NewTransfer.vue",e.default=a.exports},215:function(t,e){},239:function(t,e){},241:function(t,e){},306:function(t,e){},380:function(t,e,n){"use strict";n.r(e);var r=n(96),i=n(68);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="PushTx.vue",e.default=a.exports},381:function(t,e,n){"use strict";n.r(e);var r=n(97),i=n(70);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var u=n(4),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);a.options.__file="Webrtc.vue",e.default=a.exports},382:function(t,e,n){"use strict";var r=n(72);n.n(r).a},45:function(t,e,n){"use strict";n.r(e);var r=n(46),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},46:function(t,e,n){"use strict";this&&this.__awaiter,this&&this.__generator;var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),o=r(n(174)),u=(n(104),r(n(175))),a=r(n(176)),s=r(n(206)),c=r(n(207)),l=r(n(208)),f=r(n(380)),d=r(n(381));var h=[{path:"/",component:u.default},{path:"/login",component:a.default},{path:"/webrtc",component:d.default},{path:"/wallets",component:s.default},{path:"/wallet/:address",name:"wallet",component:c.default,children:[]},{path:"/wallet/:address/create",name:"newtx",component:l.default},{path:"/pushtx/:tx",name:"pushtx",component:f.default,props:!0}],p=new o.default({routes:h,mode:"history"});i.default.use(o.default);var v=i.default.extend({data:function(){return{}},created:function(){},methods:{},router:p});e.default=v},47:function(t,e,n){"use strict";n.r(e);var r=n(48),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},48:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8));e.default=i.default.extend({})},49:function(t,e,n){"use strict";n.r(e);var r=n(50),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},50:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),o=r(n(105));e.default=i.default.extend({data:function(){return{blockchains:[["eth"]]}},computed:{bcs:function(){return JSON.stringify(this.blockchains)}},methods:{onResult:function(t){localStorage.setItem("wallets",JSON.stringify(t)),this.$router.push({path:"/wallets"})}},components:{RemoteCall:o.default}})},51:function(t,e,n){"use strict";n.r(e);var r=n(52),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},52:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(n(8)),a=o(n(177)),s=n(111),c=n(204),l=n(112);e.default=u.default.extend({data:function(){return{id:Math.floor(1e5*Math.random()).toString(),webrtcConnected:!1,loadingWebrtc:!0}},props:{intro:String,method:{type:String,required:!0},params:{type:String,required:!0}},mounted:function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return e=this,[4,l.checkConnection()];case 1:return e.webrtcConnected=t.sent(),this.loadingWebrtc=!1,this.callWebrtc(),[2]}})})},computed:{},methods:{callWebrtc:function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.webrtcConnected?[4,l.singleton.jrpc.callRaw(this.method,JSON.parse(this.params))]:[2];case 1:return e=t.sent(),this.$emit("result",e),[2]}})})},onQr:function(t){var e=s.parseHostMessage(t);e&&c.isResult(e)&&""+e.id==this.id&&this.$emit("result",e.result)}},components:{QrExchange:a.default}})},53:function(t,e,n){"use strict";n.r(e);var r=n(54),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},54:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),o=r(n(106)),u=r(n(202));e.default=i.default.extend({data:function(){return{qrindex:0,timer:0}},mounted:function(){this.$refs.reader.startCamera()},props:{intro:String,qrs:{type:Array,default:[]}},methods:{onQr:function(t){console.log("QR!!! "+t.data,t),this.$emit("qr",t.data)}},components:{Qr:o.default,QrReader:u.default}})},55:function(t,e,n){"use strict";n.r(e);var r=n(56),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},56:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),o=r(n(178));e.default=i.default.extend({components:{QrImage:o.default},data:function(){return{qrindex:0,timer:0}},props:{qrs:{type:Array,default:function(){return[]}},showTimeout:{type:Number,default:275}},computed:{qrcode:function(){return this.qrs[this.qrindex]||""}},beforeDestroy:function(){this.timer&&(window.clearInterval(this.timer),this.timer=0)},watch:{qrs:function(){var t=this;this.qrindex=0,this.timer&&(window.clearInterval(this.timer),this.timer=0),this.qrs.length<=1||(this.timer=window.setInterval(function(){return t.showNext()},this.showTimeout))}},methods:{showNext:function(){this.qrs.length&&(this.qrindex=(this.qrindex+1)%this.qrs.length)}}})},57:function(t,e,n){"use strict";n.r(e);var r=n(58),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},58:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(n(8)),a=o(n(179)),s=u.default.extend({data:function(){return{dataUrl:""}},props:{qrcode:String},mounted:function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.qrcode?(console.log(this.qrcode),e=this,[4,a.default.toDataURL(this.qrcode)]):[2];case 1:return e.dataUrl=t.sent(),[2]}})})},watch:{qrcode:function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.qrcode?(console.log(this.qrcode),e=this,[4,a.default.toDataURL(this.qrcode)]):[2];case 1:return e.dataUrl=t.sent(),[2]}})})}}});e.default=s},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var r=n(61),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},61:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(n(8)),s=o(n(203));e.default=u.default.extend({data:function(){return{_video:void 0,readTimer:0,pollTimeout:200}},props:{width:Number,height:Number},beforeDestroy:function(){this.pollQrStop();var t=this.$refs.video;t&&t.srcObject&&t.srcObject.getTracks().forEach(function(t){return t&&t.stop()})},methods:{startCamera:function(){return r(this,void 0,void 0,function(){var e,n=this;return i(this,function(t){switch(t.label){case 0:return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return e=t.sent(),this.$refs.video.srcObject=e,this.$refs.video.play(),this.$refs.video.addEventListener("canplay",function(){return n.pollQr()}),this.$refs.video.style.display="block",[2]}})})},pollQr:function(){var t=this;this.pollQrStop(),this.readTimer=window.setTimeout(function(){return t.readQr(),t.pollQr()},this.pollTimeout)},pollQrStop:function(){this.readTimer&&(clearTimeout(this.readTimer),this.readTimer=0)},readQr:function(){var t=this.$refs,e=t.video,n=t.canvas,r=e.width,i=e.height;n.width=e.width=e.videoWidth,n.height=e.height=e.videoHeight,e.width=r,e.height=i;var o=n.getContext("2d");if(!o)return console.error("canvas context not available!");o.drawImage(e,0,0,n.width,n.height);var u=o.getImageData(0,0,n.width,n.height),a=s.default(u.data,u.width,u.height);a&&this.$emit("qr",a)}}})},62:function(t,e,n){"use strict";n.r(e);var r=n(63),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},63:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8));e.default=i.default.extend({computed:{wallets:function(){return JSON.parse(localStorage.getItem("wallets")||"[]")}}})},64:function(t,e,n){"use strict";n.r(e);var r=n(65),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},65:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},o=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=i(n(8));e.default=u.default.extend({data:function(){return{txs:[]}},computed:{address:function(){return this.$router.currentRoute.params.address}},mounted:function(){return r(this,void 0,void 0,function(){var e,n,r,i;return o(this,function(t){switch(t.label){case 0:return e="https://api-rinkeby.etherscan.io/api?module=account&action=txlist&address="+this.address+"&startblock=0&endblock=99999999&sort=asc&apikey=YourApiKeyToken",[4,fetch(e)];case 1:return[4,t.sent().json()];case 2:return n=t.sent(),console.log(n),r={},i=[].concat(n.result),this.txs=i.filter(function(t){return!r[t.hash]&&(r[t.hash]=!0)}),[2]}})})}})},66:function(t,e,n){"use strict";n.r(e);var r=n(67),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},67:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(8)),s=o(n(105)),c=u(n(114));e.default=a.default.extend({data:function(){return{signing:!1,loading:!1,nonce:NaN}},computed:{address:function(){return this.$route.params.address},wallet:function(){var e=this;return JSON.parse(localStorage.getItem("wallets")||"[]").find(function(t){return t.address==e.address})},txJson:function(){return console.log(this.tx),JSON.stringify({tx:this.tx,wallet:this.wallet})},tx:function(){return{from:this.address,to:this.$refs.to.value,nonce:this.nonce,gasPrice:3e12,value:0}}},methods:{onButton:function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.signing=!0,this.loading=!0,e=this,[4,c.getNonce(this.address)];case 1:return e.nonce=t.sent(),this.loading=!1,[2]}})})},onCancel:function(){this.signing=!1,this.loading=!1},onResult:function(t){console.log("signed tx: "+t),this.$router.push({name:"pushtx",params:{tx:t}})}},components:{RemoteCall:s.default}})},68:function(t,e,n){"use strict";n.r(e);var r=n(69),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},69:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},i=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(8)),s=u(n(114));e.default=a.default.extend({data:function(){return{loading:!0,error:void 0,result:void 0}},props:{tx:{type:String,required:!0}},mounted:function(){return r(this,void 0,void 0,function(){var e,n;return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,s.sendTx(this.tx)];case 1:return e=t.sent(),this.result=e,[3,3];case 2:return n=t.sent(),this.error=n,[3,3];case 3:return[2]}})})}})},70:function(t,e,n){"use strict";n.r(e);var r=n(71),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=i.a},71:function(t,e,n){"use strict";var a=this&&this.__awaiter||function(o,u,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}i((s=s.apply(o,u||[])).next())})},s=this&&this.__generator||function(n,r){var i,o,u,t,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=2&e[0]?o.return:e[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,e[1])).done)return u;switch(o=0,u&&(e=[2&e[0],u.value]),e[0]){case 0:case 1:u=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!u||e[1]>u[0]&&e[1]<u[3])){a.label=e[1];break}if(6===e[0]&&a.label<u[1]){a.label=u[1],u=e;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(e);break}u[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=u=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8)),o=r(n(106)),c=n(111),l=n(113),f=n(112);e.default=i.default.extend({data:function(){return{status:"not started",ws:null,url:"ws://139.59.184.152:3077",sid:""}},props:{},mounted:function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.connected?[3,2]:[4,this.connect()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},computed:{connected:function(){return f.singleton.connected},rtc:function(){return f.singleton.rtc},qr:function(){return this.sid?"webrtcLogin|777|"+JSON.stringify({sid:this.sid,url:this.url}):""}},methods:{connect:function(){return a(this,void 0,void 0,function(){var e,u,r,n=this;return s(this,function(t){switch(t.label){case 0:return this.status="connecting to handshake server...",e=this.ws=new WebSocket(this.url),[],u=new l.JsonRpc(function(t){return console.log(t),e.send(t)},function(i,o){return a(n,void 0,void 0,function(){var e,n,r;return s(this,function(t){switch(t.label){case 0:return console.log("incoming: ",i),e=function(t){return"answer"==i.method},function(t){return"ice"==i.method}()?(n=c.allToObj(i,["ice"]).ice,console.log("ICE (external):",n),n?[4,this.rtc.pushIceCandidate(n)]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:o(void 0,null),t.label=3;case 3:return e(i)?(r=c.allToObj(i,["answer"]).answer,console.log("got answer: "+r),this.status="exchanging data, please wait",this.sid="",[4,this.rtc.pushAnswer({type:"answer",sdp:r})]):[3,5];case 4:t.sent(),this.rtc.candidates.map(function(t){return t&&u.call("ice",t)}),this.rtc.addListener("ice",function(t){return t&&u.call("ice",t)}),o(void 0,null),t.label=5;case 5:return[2]}})})}),this.ws.addEventListener("message",function(t){return u.onMessage(t.data.toString())}),r=this.rtc.createOffer(),this.ws.addEventListener("open",function(){return a(n,void 0,void 0,function(){var e,n;return s(this,function(t){switch(t.label){case 0:return this.status="waiting for webrtc offer",[4,r];case 1:return e=t.sent(),this.status="pushing webrtc offer",[4,u.call("offer",e.sdp)];case 2:return n=t.sent().sid,this.sid=n,this.status="PLEASE SCAN QR CODE",[2]}})})}),[4,this.rtc.waitConnection()];case 1:return t.sent(),this.status="CONNECTED!",f.singleton.connected=!0,[4,this.getWallets()];case 2:return t.sent(),[2]}})})},getWallets:function(){return a(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,f.singleton.jrpc.call("getWalletList",["eth"])];case 1:return e=t.sent(),localStorage.setItem("wallets",JSON.stringify(e)),this.$router.push({path:"/wallets"}),[2]}})})}},components:{QrGif:o.default}})},72:function(t,e,n){},90:function(t,e,n){"use strict";var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view")],1)},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},91:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-link",{attrs:{to:"/login"}},[t._v("Login with QR")]),t._v(" "),n("router-link",{attrs:{to:"/webrtc"}},[t._v("Login with WebRTC")])],1)},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},92:function(t,e,n){"use strict";var r=function(){var t=this.$createElement;return(this._self._c||t)("remote-call",{attrs:{intro:"Scan QR code to log in",method:"getWalletList",params:this.bcs},on:{result:this.onResult}})},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},93:function(t,e,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.wallets.length?e._e():n("div",[e._v("No wallets found!")]),e._v(" "),n("ul",e._l(e.wallets,function(t){return n("li",{key:t.address},[n("router-link",{attrs:{to:{name:"wallet",params:{address:t.address}}}},[e._v(e._s(t.address))])],1)}))])},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},94:function(t,e,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.address))]),e._v(" "),n("router-link",{attrs:{to:{name:"newtx",params:{address:e.address}}}},[e._v("new tx")]),e._v(" "),n("ul",e._l(e.txs,function(t){return n("li",{key:t.hash},[e._v("hash: "+e._s(t.hash.substr(0,10)+"...")+", from: "+e._s(t.from.substr(0,10)+"...")+", to: "+e._s(t.to.substr(0,10)+"...")+", amount: "+e._s((t.value/1e18).toFixed(4)))])}))],1)},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},95:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n\tTo: "),n("input",{ref:"to",attrs:{type:"text",name:"to",disabled:t.signing}}),t._v(" "),n("br"),t._v(" "),n("button",{attrs:{type:"submit",disabled:t.signing},on:{click:t.onButton}},[t._v("SIGN TX")]),t._v(" "),t.signing&&t.loading?n("span",[t._v("loading...")]):t._e(),t._v(" "),t.signing&&!t.loading?n("remote-call",{attrs:{method:"signTransferTx",params:t.txJson},on:{result:t.onResult}}):t._e(),t._v(" "),t.signing&&!t.loading?n("button",{attrs:{type:"submit"},on:{click:t.onCancel}},[t._v("Cancel")]):t._e()],1)},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},96:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n\tPush TX\n\t"),n("span",[t._v(t._s(t.tx))]),t._v(" "),t.loading?n("span",[t._v("Pushing...")]):t._e(),t._v(" "),t.error?n("span",[t._v("Error! "+t._s(t.error.name)+" "+t._s(t.error.message))]):t._e(),t._v(" "),t.result?n("span",[t._v("Success! pushed tx with hash: "+t._s(t.result.transactionHash))]):t._e()])},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},97:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.connected?n("h1",[t._v("CONNECTED")]):n("div",[t.status?n("span",[t._v(t._s(t.status))]):t._e(),t._v(" "),t.sid?n("qr-gif",{attrs:{qrs:[t.qr]}}):t._e()],1)])},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},98:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.webrtcConnected||t.loadingWebrtc?t.loadingWebrtc?n("div",[t._v("Trying to connect to WebRTC...")]):n("div",[t._v("Press button on your phone")]):n("QrExchange",{attrs:{qrs:[t.method+"|"+t.id+"|"+t.params],intro:t.intro},on:{qr:t.onQr}})},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},99:function(t,e,n){"use strict";var r=function(){var t=this.$createElement;return(this._self._c||t)("QrImage",{attrs:{qrcode:this.qrcode}})},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})}});
//# sourceMappingURL=main.1fdbf442.js.map